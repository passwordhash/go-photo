# Go Photo
[![Swagger UI](https://img.shields.io/badge/docs-Swagger-blue?logo=swagger)](https://go-photo.passwordhash.tech/api/v1/docs/index.html)

Микросервис для загрузки, обработки и хранения фотографий, написанный на языке *Go*. Он предоставляет *RESTful API* для загрузки, получения и удаления фотографий. Микросервис использует [внешний Auth-сервис](https://github.com/passwordhash/account-microservice) по *gRPC* для выполнения аутентификации и авторизации пользователей.

---

## Develop развертывание в Docker

- Склонировать репозиторий
    ```
    git clone https://github.com/passwordhash/go-photo.git ./go-photo
    cd go-photo
    ```
  
- Заполнить файл `.env` на основе `.env.example`
    ```
    cp .env.example .env
    ```

- Поднять проект
    ```
    docker-compose up -d
    ```
  
## Описание CI/CD 

### Непрерывная интеграция (CI)

При разработке этого проекта я научился настраивать и использовать процессы непрерывной интеграции (CI). 

При любом push/pull request запускается GitHub Actions, который выполняет следующие шаги:
1. Сборка проекта на удаленном сервере.
2. Запуск тестов.
3. Публикация в Docker Hub.

[//]: # (3. Проверка кода на соответствие стандартам Go.)

### Непрерывная доставка (CD)

Кроме того, я освоил принципы непрерывной доставки (CD), которые позволяют автоматически развертывать приложение после успешного прохождения всех этапов CI. Это обеспечивает более быстрый и надежный процесс доставки новых версий приложения на сервер.

При каждом push/pull request в master запускается GitHub Actions, который выполняет следующие шаги:
1. Подключение к удаленному серверу по SSH.
2. Получение секретов из развернутого `HashiCorp Vault`.
3. Получение Docker образа из Docker Hub и его запуск с переменными окружения.

> Для работы с секретами используеются `Github Secrets` и `HashiCorp Vault`, что обеспечивает безопасность и конфиденциальность данных.
